"use strict";(self.webpackChunkemdb_react=self.webpackChunkemdb_react||[]).push([[922],{306:function(e,t,n){n.d(t,{z:function(){return c}});var r="style_button__pEfPR",a="style_danger__eOlmJ",s=n(184),i=function(){},c=function(e){var t=e.type||"submit",n=e.danger||!1,c=e.cb||i,o=[r,n?a:""];return(0,s.jsx)("button",{type:t,className:o.join(" "),onClick:c,children:e.children})}},292:function(e,t,n){n.d(t,{HT:function(){return a},a4:function(){return s},uO:function(){return c},yY:function(){return i}});var r=function(e,t){return fetch("https://edgemony-backend.herokuapp.com"+e,t).then((function(e){return e.json()}))},a=function(e){return r(e,{method:"GET"})},s=function(e,t){return r(e,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},i=function(e,t){return r("".concat(e,"/").concat(t),{method:"DELETE"})},c=function(e,t,n){return r("".concat(e,"/").concat(t),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})}},517:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(861),a=n(152),s=n(757),i=n.n(s),c=n(791),o=n(871),u=n(135),l=n(306),p=n(292),d="style_form__REFA3",f="style_row__m5L4V",h="style_actions__vfgb0",m=n(184),v=function(e){var t=(0,o.s0)(),n=(0,o.UO)().id,s=(0,c.useState)(""),v=(0,a.Z)(s,2),x=v[0],y=v[1],j=(0,c.useState)((new Date).getFullYear()),g=(0,a.Z)(j,2),b=g[0],_=g[1],C=(0,c.useState)(""),k=(0,a.Z)(C,2),w=k[0],N=k[1],S=(0,c.useState)([]),E=(0,a.Z)(S,2),Z=E[0],F=E[1],O=(0,c.useState)(""),T=(0,a.Z)(O,2),D=T[0],P=T[1],Y=function(){var a=(0,r.Z)(i().mark((function r(a){var s;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),s={title:x,year:b,poster:w,genres:Z,description:D},r.next=4,(0,p.uO)("/movies",n,s);case 4:e.editCallback(),t("/");case 6:case"end":return r.stop()}}),r)})));return function(e){return a.apply(this,arguments)}}(),z=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.yY)("/movies",n);case 2:t("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.HT)("/movies/".concat(n));case 2:t=e.sent,y(t.title),_(t.year),N(t.poster),F(t.genres),P(t.description);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){J()}),[]),(0,m.jsxs)("form",{className:d,onSubmit:Y,children:[(0,m.jsx)("h3",{children:"Create a new movie card"}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,m.jsx)("input",{type:"text",name:"title",placeholder:"My movie title",autoComplete:"off",value:x,onChange:function(e){return y(e.target.value)}})]}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("label",{htmlFor:"year",children:"Year:"}),(0,m.jsx)("input",{type:"number",name:"year",min:"1895",max:b,value:b,onChange:function(e){return _(parseInt(e.target.value))}})]}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("label",{htmlFor:"poster",children:"Poster:"}),(0,m.jsx)("input",{type:"url",name:"poster",placeholder:"https://i.picsum.photos/id/317/200/300.jpg",value:w,onChange:function(e){return N(e.target.value)}})]}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("label",{htmlFor:"genres",children:"Genres:"}),(0,m.jsx)("input",{type:"text",autoComplete:"off",name:"genres",placeholder:"action, comedy, dramatic",value:Z.join(),onChange:function(e){return F(e.target.value.split(","))}})]}),(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,m.jsx)("textarea",{name:"description",value:D,onChange:function(e){return P(e.target.value)}})]}),(0,m.jsxs)("div",{className:h,children:[(0,m.jsxs)(l.z,{children:[(0,m.jsx)(u.tU3,{})," Edit movie"]}),(0,m.jsxs)(l.z,{type:"button",danger:!0,cb:z,children:[(0,m.jsx)(u.Xm5,{})," Delete movie"]})]})]})}}}]);
//# sourceMappingURL=edit.9d348070.chunk.js.map