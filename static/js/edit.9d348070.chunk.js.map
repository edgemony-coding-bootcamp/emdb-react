{"version":3,"file":"static/js/edit.9d348070.chunk.js","mappings":"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","sources":["webpack://emdb-react/./src/components/Button/style.module.scss?b84f","components/Button/index.jsx","libs/http.js","webpack://emdb-react/./src/pages/Edit/style.module.scss?fc85","pages/Edit/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"style_button__pEfPR\",\"danger\":\"style_danger__eOlmJ\"};","import styles from \"./style.module.scss\";\n\nconst empty = () => {};\n\nconst Button = (props) => {\n  const type = props.type || \"submit\";\n  const danger = props.danger || false;\n  const cb = props.cb || empty;\n\n  const classes = [styles.button, danger ? styles.danger : \"\"];\n\n  return (\n    <button type={type} className={classes.join(\" \")} onClick={cb}>\n      {props.children}\n    </button>\n  );\n};\n\nexport { Button };\n","const BASE_URL = \"https://edgemony-backend.herokuapp.com\";\n\nconst http = (resource, options) =>\n  fetch(BASE_URL + resource, options).then((response) => response.json());\n\nconst GET = (resource) => http(resource, { method: \"GET\" });\n\nconst POST = (resource, data) =>\n  http(resource, {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\nconst DELETE = (resource, id) =>\n  http(`${resource}/${id}`, { method: \"DELETE\" });\n\nconst PUT = (resource, id, data) =>\n  http(`${resource}/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\nexport { GET, POST, PUT, DELETE };\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"style_form__REFA3\",\"row\":\"style_row__m5L4V\",\"actions\":\"style_actions__vfgb0\"};","import { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { FaPen, FaTrash } from \"react-icons/fa\";\nimport { Button } from \"./../../components/Button\";\nimport { GET, PUT, DELETE } from \"./../../libs/http\";\nimport styles from \"./style.module.scss\";\n\nconst Edit = (props) => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  const [title, setTitle] = useState(\"\");\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [poster, setPoster] = useState(\"\");\n  const [genres, setGenres] = useState([]);\n  const [description, setDescription] = useState(\"\");\n\n  const submitData = async (event) => {\n    event.preventDefault();\n\n    const movie = { title, year, poster, genres, description };\n\n    await PUT(\"/movies\", id, movie);\n    props.editCallback();\n    navigate(\"/\");\n  };\n\n  const deleteMovie = async () => {\n    await DELETE(\"/movies\", id);\n    navigate(\"/\");\n  };\n\n  const getData = async () => {\n    const data = await GET(`/movies/${id}`);\n    setTitle(data.title);\n    setYear(data.year);\n    setPoster(data.poster);\n    setGenres(data.genres);\n    setDescription(data.description);\n  };\n\n  /* eslint-disable */\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <form className={styles.form} onSubmit={submitData}>\n      <h3>Create a new movie card</h3>\n      <div className={styles.row}>\n        <label htmlFor=\"title\">Title:</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"My movie title\"\n          autoComplete=\"off\"\n          value={title}\n          onChange={(event) => setTitle(event.target.value)}\n        />\n      </div>\n      <div className={styles.row}>\n        <label htmlFor=\"year\">Year:</label>\n        <input\n          type=\"number\"\n          name=\"year\"\n          min=\"1895\"\n          max={year}\n          value={year}\n          onChange={(event) => setYear(parseInt(event.target.value))}\n        />\n      </div>\n      <div className={styles.row}>\n        <label htmlFor=\"poster\">Poster:</label>\n        <input\n          type=\"url\"\n          name=\"poster\"\n          placeholder=\"https://i.picsum.photos/id/317/200/300.jpg\"\n          value={poster}\n          onChange={(event) => setPoster(event.target.value)}\n        />\n      </div>\n      <div className={styles.row}>\n        <label htmlFor=\"genres\">Genres:</label>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          name=\"genres\"\n          placeholder=\"action, comedy, dramatic\"\n          value={genres.join()}\n          onChange={(event) => setGenres(event.target.value.split(\",\"))}\n        />\n      </div>\n      <div className={styles.row}>\n        <label htmlFor=\"description\">Description:</label>\n        <textarea\n          name=\"description\"\n          value={description}\n          onChange={(event) => setDescription(event.target.value)}\n        ></textarea>\n      </div>\n      <div className={styles.actions}>\n        <Button>\n          <FaPen /> Edit movie\n        </Button>\n\n        <Button type=\"button\" danger={true} cb={deleteMovie}>\n          <FaTrash /> Delete movie\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default Edit;\n"],"names":["empty","Button","props","type","danger","cb","classes","styles","className","join","onClick","children","http","resource","options","fetch","then","response","json","GET","method","POST","data","headers","body","JSON","stringify","DELETE","id","PUT","navigate","useNavigate","useParams","useState","title","setTitle","Date","getFullYear","year","setYear","poster","setPoster","genres","setGenres","description","setDescription","submitData","event","preventDefault","movie","editCallback","deleteMovie","getData","useEffect","onSubmit","htmlFor","name","placeholder","autoComplete","value","onChange","target","min","max","parseInt","split"],"sourceRoot":""}